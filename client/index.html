<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ultimate Tic-Tac-Toe</title>
	<link rel="stylesheet" href="./styles.css">
	<script type="module" src="./client.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="mobile-web-app-capable" content="yes" >
	<link rel="manifest" href="./manifest.json" />
	<meta name="theme-color" content="var(--background)">
	<link rel="icon" href="./assets/favicon.svg" type="image/svg+xml">
	<meta property="og:title" content="Play Ultimate Tic-Tac-Toe"/>
	<meta property="og:type" content="website"/>
	<meta property="og:image" content="./assets/og-image.png"/>
	<meta property="og:site_name" content="ibll.dev"/>
</head>
<body>

<div class="panel" id="primary-panel">
	<div id="top-bar" class="bar">
		<div id="title-box">
			<div id='piece-marker'>
				<svg fill="none" height="300" viewBox="0 0 300 300" width="300" xmlns="http://www.w3.org/2000/svg">
					<path d="m141.295 121.107c-4.202 13.512-79.6576-100.2172-110.9516-15.202-31.29407 85.016 116.6416 158.208 120.6246 157.082s188.902-132.872 97.865-198.1819c-91.038-65.310002-103.336 42.7889-107.538 56.3019z" stroke="var(--red)" stroke-width="30"/>
				</svg>
			</div>
			<h1 id='title-text'>Ultimate Tic-Tac-Toe</h1>
		</div>
		<div class="button-panel">
			<button id='start' class="left right">New Room...</button>
			<button id='leave' class="right square  hidden">
				<svg width="300" height="300" viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M36.249 55.6213C21.0043 66.4837 51.4936 233.764 53.9657 244.627C56.4378 255.489 151.427 276.116 174.5 276.116C197.573 276.116 165.848 92.324 160.903 82.7651C149.807 65.0303 50 55.6213 36.249 55.6213ZM36.249 55.6213C52.1803 46.3521 135.481 20.3136 141.5 24.5C147.519 28.6864 149.5 65 149.5 65" stroke="var(--red)" stroke-width="30" stroke-linecap="round"/>
					<path d="M186 157.5L268.5 149.5M268.5 149.5C267 143.5 244.5 104 228.5 94.5M268.5 149.5C269.583 156 236.5 217.5 236.5 217.5" stroke="var(--red)" stroke-width="30" stroke-linecap="round"/>
					<path d="M144 187.5C144 185.9 141 182.5 144 184" stroke="var(--red)" stroke-width="30" stroke-linecap="round"/>
				</svg>
			</button>
		</div>
	</div>
	<div id="status-bar" class="bar">
		<div class="toast-block">
			<p class="toast-label">warning!</p>
			<p class="toast-content">Please ensure javascript is enabled!</p>
		</div>
	</div>
</div>

<div id="board">
	<div id="how-to-play">
		<h1><label for="join-code">Join Game</label></h1>

		<div class="button-panel">
			<input type="text" id="join-code" class="left" name="Join with Code" placeholder="Room Code">
			<button id="join" class="right square">
				<svg width="300" height="300" viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M21 143.679C92.1308 170.458 197.8 152.634 278.234 142.39" stroke="var(--highlight)" stroke-width="30" stroke-linecap="round"/>
					<path d="M194.468 55.6679C194.468 55.6679 277.782 117.043 281.191 141.983C283.503 158.906 198.344 248.881 198.344 248.881" stroke="var(--highlight)" stroke-width="30" stroke-linecap="round"/>
				</svg>
			</button>
		</div>
		<h1>How to Play</h1>
		<p>
			Ultimate Tic-Tac-Toe is relatively simple. You draw a Tic-Tac-Toe board, and draw another
			Tic-Tac-Toe board in each of the cells! And, just like in normal Tic-Tac-Toe, your goal is to
			get a 3-in-a-row.
		</p>
		<p>
			Each player can only directly place into the smallest level cells, and earn the higher-level
			boards by winning them! Easy, right?
		</p>
		<p>
			There is one catch! When you make a move, your opponent is sent to another board relatively
			to where you placed your piece.
		</p>
		<p>
			In the example below, X played her first move in the bottom-left of a mini-board. O's next turn
			is then restricted to only being within the bottom-left board!
		</p>

		<picture>
			<source media="(prefers-color-scheme: dark)" srcset="./assets/tutorial-1-dark.png">
			<source media="(prefers-color-scheme: light)" srcset="./assets/tutorial-1-light.png">
			<img alt="A tic-tac-toe board with tic-tac-toe boards in each cell. One of the mini-boards has an X in the bottom-left corner, and the entire bottom-left mini board is highlighted green."
			     src="./assets/tutorial-1-light.png">
		</picture>

		<p>
			This means that the most important aspect of your turn might not be where your piece goes, but
			where your opponent can go next!
		</p>

		<p>
			One last thing for Ultimate Tic-Tac-Toe: sending your opponent to a board that's already been
			claimed lets them go anywhere! This makes games end much faster than they start, as it gets
			harder and harder to avoid giving your opponent the opportunity to go anywhere they'd like!
		</p>

		<picture>
			<source media="(prefers-color-scheme: dark)" srcset="./assets/tutorial-2-dark.gif">
			<source media="(prefers-color-scheme: light)" srcset="./assets/tutorial-2-light.gif">
			<img alt="A gif demonstrating that being sent to a claimed board lets you go anywhere."
			     src="./assets/tutorial-2-light.gif">
		</picture>

		<h1>Ultimate ULTIMATE Tic-Tac-Toe</h1>

		<p>
			If you want to play Ultimate Ultimate Tic-Tac-Toe, there's one more thing to note! Winning a
			mini-board does exactly what happens in UTTT: your opponent is sent to that board. But, because
			there's more than 2 layers here, they get sent
			to the mini-board relative to the *cell* you played to get the win as well!
		</p>

		<p>
			The gif below begins zoomed in on the top-centre board before X has her turn. When she wins the small
			<i>right-centre</i> board by placing her piece in the <i>top-right</i> cell, we zoom out to the rest of
			the board.
		</p>

		<p>
			Her opponent must then play in the <i>right-centre</i> UTTT board, in the <i>top-right</i> TTT board.
			Play would then continue in the right-centre board until another board is won.
		</p>

		<picture>
			<source media="(prefers-color-scheme: dark)" srcset="./assets/tutorial-3-dark.gif">
			<source media="(prefers-color-scheme: light)" srcset="./assets/tutorial-3-light.gif">
			<img alt="A gif demonstrating multi-level sending." src="./assets/tutorial-3-light.gif">
		</picture>

		<h1>Endless Mode</h1>

		<p>
			If you're feeling particularly masochistic, you can start an endless game! There are no winners, only losers.
			The game begins with a classic 3x3 Tic-Tac-Toe game.  When won, this board is shrunken down to one ninth
			of the next layer. This happens until the game is unplayably small, your browser crashes, or somebody quits.
		</p>

		<p>
			Notice that the previous board shrinks to the <i>last cell</i> that was won. In the example below, X plays in the <i>middle right</i> cell.
			That board then becomes the <i>middle right</i> sub-board.
		</p>

		<picture>
			<source media="(prefers-color-scheme: dark)" srcset="./assets/tutorial-4-dark.gif">
			<source media="(prefers-color-scheme: light)" srcset="./assets/tutorial-4-light.gif">
			<img alt="A gif demonstrating endless mode." src="./assets/tutorial-4-light.gif">
		</picture>
	</div>
</div>

<div class="panel" id="secondary-panel"></div>

<div id="toast"></div>

</body>
</html>